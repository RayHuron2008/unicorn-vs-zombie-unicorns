<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Unicorn vs Zombie Unicorns</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <style>
    /* Lock the page to one screen */
    html, body { margin:0; height:100%; overflow:hidden; background:#0d0d0d; touch-action:none; }

    /* Center the game, scale to fit screen without scrolling */
    #stage {
      position:fixed; inset:0;
      display:grid; place-items:center;
      background:#000;
    }
    /* Keep your 16:9 game, scale inside the viewport */
    #game {
      width:100vw; height:100vh;
      aspect-ratio:16 / 9;        /* preserve 960x540 look */
      object-fit:contain;          /* letterbox if needed */
      image-rendering:pixelated;
      display:block;
      background:#000;
    }

    /* HUD & controls overlay the canvas, never push the page size */
    .pixel{font-family: 'Press Start 2P', system-ui, -apple-system, Arial; font-size:14px}
    #hud{
      position:fixed; top:8px; left:0; right:0;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 14px; color:#fff; pointer-events:none;
    }
    #hud > *{ pointer-events:auto }
    #hud .box{ background:rgba(0,0,0,.35); padding:6px 10px; border:2px solid rgba(255,255,255,.25); border-radius:8px; margin:0 6px }
    #powerWrap{ display:flex; align-items:center; gap:8px }
    #powerBar{ width:180px;height:12px;background:#1f1f1f;border:2px solid rgba(255,255,255,.2);border-radius:6px;overflow:hidden }
    #powerFill{ height:100%; width:0%; background:linear-gradient(90deg,#ff4d6d,#ffa94d,#ffe066,#66ff66,#66d9ff,#b066ff) }

    #controls{
      position:fixed; left:12px; right:12px; bottom:14px;
      display:flex; justify-content:space-between; align-items:flex-end;
      pointer-events:none;
    }
    #dpad{ position:relative; width:150px; height:150px; pointer-events:auto }
    #dpad .dir{ position:absolute; width:46px; height:46px; background:#2b2b2b; border:2px solid #777; border-radius:6px; opacity:.95 }
    #dpad .up{ left:52px; top:0 }  #dpad .down{ left:52px; bottom:0 }
    #dpad .left{ left:0; top:52px } #dpad .right{ right:0; top:52px }
    #ab{ display:flex; gap:18px; pointer-events:auto }
    .ab{ width:80px; height:80px; border-radius:50%; background:#2b2b2b; border:2px solid #777; color:#fff; font-size:22px }
    .ab:active, .dir:active{ transform:scale(.96) }

    /* Rotate hint if someone opens in portrait */
    @media (orientation:portrait){
      #stage{ filter:blur(1.5px) }
      body::after{
        content:'Rotate to landscape'; position:fixed; inset:0;
        display:grid; place-items:center; color:#fff; font-family: system-ui, -apple-system, Arial;
      }
    }
  </style>
</head>
<body>
  <div id="stage">
    <canvas id="game" width="960" height="540"></canvas>
  </div>

  <div id="hud" class="pixel">
    <div class="box" id="lives">ðŸ¦„ x 3</div>
    <div class="box" id="score">Score: 0</div>
    <div class="box" id="powerWrap">
      <div>Power</div>
      <div id="powerBar"><div id="powerFill"></div></div>
    </div>
  </div>

  <div id="controls">
    <div id="dpad" class="pixel">
      <button class="dir up"   data-dx="0"  data-dy="-1"></button>
      <button class="dir left" data-dx="-1" data-dy="0"></button>
      <button class="dir right"data-dx="1"  data-dy="0"></button>
      <button class="dir down" data-dx="0"  data-dy="1"></button>
    </div>
    <div id="ab">
      <button id="btnA" class="ab pixel">A</button>
      <button id="btnB" class="ab pixel">B</button>
    </div>
  </div>

  <!-- bump this number to force refresh if needed -->
<script src="game.js?v=16"></script>
</html>
